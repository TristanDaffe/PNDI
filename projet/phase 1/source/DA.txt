//           nbDossiers      nbFichiersTest
// dws downstair 3             7
// jog jogging   2             5
// sit sitting   2             5
// std stand     2             4
// ups ups       3             7
// wlk walk      3             7 

// total         15           36

// => 24 fichiers pour chaque (24 participants)

// structures
data  { userAcceleration.x
.     { userAcceleration.y
.     { userAcceleration.z

sujet { code
.     { weight
.     { heigth
.     { age
.     { gender

PATH = {
"dws_1/","dws_2/","dws_11/",
"jog_9/", "jog_16/", 
"sit_5/", "sit_13/",
"std_6/", "std_14/",
"ups_3/", "ups_4/",
"wlk_7/", "wlk_8/", "wlk_15/",
}

NB_SUJETS 24
NB_DOSSIER 15
NB_SUJET_TEST 3
TEMPS_NESS_1_MIN 600

module(Principal;;)
---*
créer trainSet.csv
créer testSet.csv
index = 0
iSujetPourTest = 0
module(ajouterTitre;trainSet.csv;)
module(ajouterTitre;testSet.csv;)
module(lisSujets;; sujets[])

// parcours de chaque dossier
iDossier = 0
while (iDossier < NB_DOSSIER)
 dossier = PATH[iDossier]
 typeMouv = substring(dossier, 3)
   if (typeMouv = "dws") 
    mouvement = "downstair"
   elseif (typeMouv = "jog")
     mouvement = "jogging"
   elseif (typeMouv = "sit")
    mouvement = "sit down"
   elseif (typeMouv = "std")
    mouvement = "stand up"
   elseif (typeMouv = "ups")
    mouvement = "upstairs"
   elseif (typeMouv = "wlk")
    mouvement = "wlaking"
   endif
// parcours de chaque sujet
 nbSujetsTest = 0
 iSujet = 0
 while (iSujet  < NB_SUJETS)
 if(nbSujetsTest < NB_SUJET_TEST)
  fichierCible = test.csv
  iSujetPourTest++
 else
  fichierCible = train.csv
 endif

// ajout du genre
   ajouter sujets[i].genre à fichierCible 
   ajouter index à fichierCible 
   fichier = ouvrir (dossier + "sub_"+ (iSujet+1))
// ajout du Vacc pour chaque unité de temps
   i = 0
   module(ligneExiste;fichier, i; ligneExiste)
   while (i < TEMPS_NESS_1_MIN && ligneExiste)
    module(lisLigne; sujet; data)
    vAcc = racineCarré( data->x * data->x + data->y * data->y + data->z * data->z)
    ajouter vAcc à fichierCible 
   i++  
   module(ligneExiste;fichier, i; ligneExiste)
   endwhile 

   iSujet ++
   index++
   iSujetPourTest += 4
   if(iSujetPourTest >= NB_SUJETS)
    iSujetPourTest = 0
   endif
 endwhile
 iDossier++
endwhile
------


module(ajouterTitre; fichier;)
---*
ajoute colonne "Mouvement" dans fichier
ajoute colonne "Genre" dans fichier
ajoute colonne "Index" dans fichier
i = 0
while (i < TEMPS_NESS_1_MIN )
 ajoute colonne "Vacc" dans fichier
 i++
endwhile
------

module(lisLigne;fichier; data)
---*
// colonne userAcceleration.x, y, z
data = lire fichier
------

module(lisSujets;; sujets[])
---*
i = 0
while (i < NB_SUJETS)
sujets[i] = lire "data_subjects.csv"
i++
endwhile
------















